!function t(e,n,r){function o(i,a){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(u)return u(i,!0);var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var s=n[i]={exports:{}};e[i][0].call(s.exports,function(t){var n=e[i][1][t];return o(n?n:t)},s,s.exports,t,e,n,r)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(t,e,n){!function(t,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof n?e.exports=r():t.returnExports=r()}(this,function(){function t(o,u){if("function"!=typeof u)throw new Error("Bad callback given: "+u);if(!o)throw new Error("No options given");var a=o.onResponse;if(o="string"==typeof o?{uri:o}:JSON.parse(JSON.stringify(o)),o.onResponse=a,o.verbose&&(t.log=r()),o.url&&(o.uri=o.url,delete o.url),!o.uri&&""!==o.uri)throw new Error("options.uri is a required argument");if("string"!=typeof o.uri)throw new Error("options.uri must be a string");for(var c=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],f=0;f<c.length;f++)if(o[c[f]])throw new Error("options."+c[f]+" is not supported");if(o.callback=u,o.method=o.method||"GET",o.headers=o.headers||{},o.body=o.body||null,o.timeout=o.timeout||t.DEFAULT_TIMEOUT,o.headers.host)throw new Error("Options.headers.host is not supported");o.json&&(o.headers.accept=o.headers.accept||"application/json","GET"!==o.method&&(o.headers["content-type"]="application/json"),"boolean"!=typeof o.json?o.body=JSON.stringify(o.json):"string"!=typeof o.body&&(o.body=JSON.stringify(o.body)));var s=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")};if(o.qs){var l="string"==typeof o.qs?o.qs:s(o.qs);-1!==o.uri.indexOf("?")?o.uri=o.uri+"&"+l:o.uri=o.uri+"?"+l}var d=function(t){var e={};e.boundry="-------------------------------"+Math.floor(1e9*Math.random());var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push("--"+e.boundry+'\nContent-Disposition: form-data; name="'+r+'"\n\n'+t[r]+"\n");return n.push("--"+e.boundry+"--"),e.body=n.join(""),e.length=e.body.length,e.type="multipart/form-data; boundary="+e.boundry,e};if(o.form){if("string"==typeof o.form)throw"form name unsupported";if("POST"===o.method){var p=(o.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(o.headers["content-type"]=p,p){case"application/x-www-form-urlencoded":o.body=s(o.form).replace(/%20/g,"+");break;case"multipart/form-data":var y=d(o.form);o.body=y.body,o.headers["content-type"]=y.type;break;default:throw new Error("unsupported encoding:"+p)}}}return o.onResponse=o.onResponse||n,o.onResponse===!0&&(o.onResponse=u,o.callback=n),!o.headers.authorization&&o.auth&&(o.headers.authorization="Basic "+i(o.auth.username+":"+o.auth.password)),e(o)}function e(e){function n(){l=!0;var n=new Error("ETIMEDOUT");return n.code="ETIMEDOUT",n.duration=e.timeout,t.log.error("Timeout",{id:s._id,milliseconds:e.timeout}),e.callback(n,s)}function r(n){if(l)return t.log.debug("Ignoring timed out state change",{state:s.readyState,id:s.id});if(t.log.debug("State change",{state:s.readyState,id:s.id,timed_out:l}),s.readyState===a.OPENED){t.log.debug("Request started",{id:s.id});for(var r in e.headers)s.setRequestHeader(r,e.headers[r])}else s.readyState===a.HEADERS_RECEIVED?o():s.readyState===a.LOADING?(o(),i()):s.readyState===a.DONE&&(o(),i(),c())}function o(){if(!h.response){if(h.response=!0,t.log.debug("Got response",{id:s.id,status:s.status}),clearTimeout(s.timeoutTimer),s.statusCode=s.status,d&&0==s.statusCode){var n=new Error("CORS request rejected: "+e.uri);return n.cors="rejected",h.loading=!0,h.end=!0,e.callback(n,s)}e.onResponse(null,s)}}function i(){h.loading||(h.loading=!0,t.log.debug("Response body loading",{id:s.id}))}function c(){if(!h.end){if(h.end=!0,t.log.debug("Request done",{id:s.id}),s.body=s.responseText,e.json)try{s.body=JSON.parse(s.responseText)}catch(n){return e.callback(n,s)}e.callback(null,s,s.body)}}var s=new a,l=!1,d=u(e.uri),p="withCredentials"in s;if(f+=1,s.seq_id=f,s.id=f+": "+e.method+" "+e.uri,s._id=s.id,d&&!p){var y=new Error("Browser does not support cross-origin request: "+e.uri);return y.cors="unsupported",e.callback(y,s)}s.timeoutTimer=setTimeout(n,e.timeout);var h={response:!1,loading:!1,end:!1};return s.onreadystatechange=r,s.open(e.method,e.uri,!0),d&&(s.withCredentials=!!e.withCredentials),s.send(e.body),s}function n(){}function r(){var t,e,r={},u=["trace","debug","info","warn","error"];for(e=0;e<u.length;e++)t=u[e],r[t]=n,"undefined"!=typeof console&&console&&console[t]&&(r[t]=o(console,t));return r}function o(t,e){function n(n,r){return"object"==typeof r&&(n+=" "+JSON.stringify(r)),t[e].call(t,n)}return n}function u(t){var e,n=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{e=location.href}catch(r){e=document.createElement("a"),e.href="",e=e.href}var o=n.exec(e.toLowerCase())||[],u=n.exec(t.toLowerCase()),i=!(!u||u[1]==o[1]&&u[2]==o[2]&&(u[3]||("http:"===u[1]?80:443))==(o[3]||("http:"===o[1]?80:443)));return i}function i(t){var e,n,r,o,u,i,a,c,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,l=0,d="",p=[];if(!t)return t;do e=t.charCodeAt(s++),n=t.charCodeAt(s++),r=t.charCodeAt(s++),c=e<<16|n<<8|r,o=c>>18&63,u=c>>12&63,i=c>>6&63,a=63&c,p[l++]=f.charAt(o)+f.charAt(u)+f.charAt(i)+f.charAt(a);while(s<t.length);switch(d=p.join(""),t.length%3){case 1:d=d.slice(0,-2)+"==";break;case 2:d=d.slice(0,-1)+"="}return d}var a=XMLHttpRequest;if(!a)throw new Error("missing XMLHttpRequest");t.log={trace:n,debug:n,info:n,warn:n,error:n};var c=18e4,f=0;t.withCredentials=!1,t.DEFAULT_TIMEOUT=c,t.defaults=function(e,n){var r=function(t){var n=function(n,r){n="string"==typeof n?{uri:n}:JSON.parse(JSON.stringify(n));for(var o in e)void 0===n[o]&&(n[o]=e[o]);return t(n,r)};return n},o=r(t);return o.get=r(t.get),o.post=r(t.post),o.put=r(t.put),o.head=r(t.head),o};var s=["get","put","post","head"];return s.forEach(function(e){var n=e.toUpperCase(),r=e.toLowerCase();t[r]=function(e){"string"==typeof e?e={method:n,uri:e}:(e=JSON.parse(JSON.stringify(e)),e.method=n);var r=[e].concat(Array.prototype.slice.apply(arguments,[1]));return t.apply(this,r)}}),t.couch=function(e,r){function o(t,e,n){if(t)return r(t,e,n);if((e.statusCode<200||e.statusCode>299)&&n.error){t=new Error("CouchDB error: "+(n.error.reason||n.error.error));for(var o in n)t[o]=n[o];return r(t,e,n)}return r(t,e,n)}"string"==typeof e&&(e={uri:e}),e.json=!0,e.body&&(e.json=e.body),delete e.body,r=r||n;var u=t(e,o);return u},t})},{}],2:[function(t,e,n){(function(n){function r(t,e){return t="number"==typeof t||m.test(t)?+t:-1,e=null==e?b:e,t>-1&&t%1==0&&e>t}function o(t,e,n){var r=t[e];(!s(r,n)||s(r,j[e])&&!_.call(t,e)||void 0===n&&!(e in t))&&(t[e]=n)}function u(t){return function(e){return null==e?void 0:e[t]}}function i(t,e,n){return a(t,e,n)}function a(t,e,n,r){n||(n={});for(var u=-1,i=e.length;++u<i;){var a=e[u],c=r?r(n[a],t[a],a,n,t):t[a];o(n,a,c)}return n}function c(t){return v(function(e,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,i=o>2?n[2]:void 0;for(u="function"==typeof u?(o--,u):void 0,i&&f(n[0],n[1],i)&&(u=3>o?void 0:u,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,u)}return e})}function f(t,e,n){if(!y(n))return!1;var o=typeof e;return("number"==o?l(n)&&r(e,n.length):"string"==o&&e in n)?s(n[e],t):!1}function s(t,e){return t===e||t!==t&&e!==e}function l(t){return null!=t&&!("function"==typeof t&&d(t))&&p(E(t))}function d(t){var e=y(t)?O.call(t):"";return e==g||e==w}function p(t){return"number"==typeof t&&t>-1&&t%1==0&&b>=t}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var h=t("lodash.keys"),v=t("lodash.rest"),b=9007199254740991,g="[object Function]",w="[object GeneratorFunction]",m=/^(?:0|[1-9]\d*)$/,j=n.Object.prototype,_=j.hasOwnProperty,O=j.toString,E=u("length"),S=c(function(t,e){i(e,h(e),t)});e.exports=S}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash.keys":3,"lodash.rest":4}],3:[function(t,e,n){(function(t){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function r(t,e){return t="number"==typeof t||O.test(t)?+t:-1,e=null==e?g:e,t>-1&&t%1==0&&e>t}function o(t,e){return S.call(t,e)||"object"==typeof t&&e in t&&null===x(t)}function u(t){return C(Object(t))}function i(t){return function(e){return null==e?void 0:e[t]}}function a(t){var e=t?t.length:void 0;return p(e)&&(R(t)||v(t)||f(t))?n(e,String):null}function c(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||E;return t===n}function f(t){return l(t)&&S.call(t,"callee")&&(!q.call(t,"callee")||A.call(t)==w)}function s(t){return null!=t&&!("function"==typeof t&&d(t))&&p(k(t))}function l(t){return h(t)&&s(t)}function d(t){var e=y(t)?A.call(t):"";return e==m||e==j}function p(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function h(t){return!!t&&"object"==typeof t}function v(t){return"string"==typeof t||!R(t)&&h(t)&&A.call(t)==_}function b(t){var e=c(t);if(!e&&!s(t))return u(t);var n=a(t),i=!!n,f=n||[],l=f.length;for(var d in t)!o(t,d)||i&&("length"==d||r(d,l))||e&&"constructor"==d||f.push(d);return f}var g=9007199254740991,w="[object Arguments]",m="[object Function]",j="[object GeneratorFunction]",_="[object String]",O=/^(?:0|[1-9]\d*)$/,E=t.Object.prototype,S=E.hasOwnProperty,A=E.toString,x=Object.getPrototypeOf,q=E.propertyIsEnumerable,C=Object.keys,k=i("length"),R=Array.isArray;e.exports=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,n){(function(t){function n(t,e,n){var r=n?n.length:0;switch(r){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function r(t,e){if("function"!=typeof t)throw new TypeError(c);return e=j(void 0===e?t.length-1:i(e),0),function(){for(var r=arguments,o=-1,u=j(r.length-e,0),i=Array(u);++o<u;)i[o]=r[e+o];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,r[0],i);case 2:return t.call(this,r[0],r[1],i)}var a=Array(e+1);for(o=-1;++o<e;)a[o]=r[o];return a[e]=i,n(t,this,a)}}function o(t){var e=u(t)?m.call(t):"";return e==d||e==p}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function i(t){if(!t)return 0===t?t:0;if(t=a(t),t===f||t===-f){var e=0>t?-1:1;return e*s}var n=t%1;return t===t?n?t-n:t:0}function a(t){if(u(t)){var e=o(t.valueOf)?t.valueOf():t;t=u(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(y,"");var n=v.test(t);return n||b.test(t)?g(t.slice(2),n?2:8):h.test(t)?l:+t}var c="Expected a function",f=1/0,s=1.7976931348623157e308,l=NaN,d="[object Function]",p="[object GeneratorFunction]",y=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,b=/^0o[0-7]+$/i,g=parseInt,w=t.Object.prototype,m=w.toString,j=Math.max;e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,n){(function(n){function r(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function u(t,e,n,r){var o=-1,u=t.length;for(r&&u&&(n=t[++o]);++o<u;)n=e(n,t[o],o,t);return n}function i(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function a(t,e){return t="number"==typeof t||Ct.test(t)?+t:-1,e=null==e?tt:e,t>-1&&t%1==0&&e>t}function c(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function f(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function s(t,e,n){(void 0!==n&&!N(t[e],n)||"number"==typeof e&&void 0===n&&!(e in t))&&(t[e]=n)}function l(t,e,n){var r=t[e];(!N(r,n)||N(r,Tt[e])&&!Pt.call(t,e)||void 0===n&&!(e in t))&&(t[e]=n)}function d(t,e){return t&&S(e,V(e),t)}function p(t,e,n,r,o,u){var a;if(n&&(a=o?n(t,r,o,u):n(t)),void 0!==a)return a;if(!J(t))return t;var c=Kt(t);if(c){if(a=R(t),!e)return E(t,a)}else{var f=k(t),s=f==it||f==at;if(f!=st&&f!=et&&(!s||o))return Rt[f]?M(t,f,e):o?t:{};if(i(t))return o?t:{};if(a=T(s?{}:t),!e)return x(t,d(a,t))}u||(u=new X);var h=u.get(t);return h?h:(u.set(t,a),(c?Y:y)(t,function(r,o){l(a,o,p(r,e,n,o,t,u))}),c?a:x(t,a))}function y(t,e){return t&&Q(t,e,V)}function h(t,e,n,r,o){if(t!==e){var u=Kt(e)||z(e)?void 0:W(e);Y(u||e,function(i,a){if(u&&(a=i,i=e[a]),J(i))o||(o=new X),v(t,e,a,n,h,r,o);else{var c=r?r(t[a],i,a+"",t,e,o):void 0;void 0===c&&(c=i),s(t,a,c)}})}}function v(t,e,n,r,o,u,i){var a=t[n],c=e[n],f=i.get(c);if(f)return void s(t,n,f);var l=u?u(a,c,n+"",t,e,i):void 0,d=void 0===l;d&&(l=c,Kt(c)||z(c)?Kt(a)?l=r?E(a):a:U(a)?l=E(a):(d=!1,l=p(c)):K(c)||I(c)?I(a)?l=H(a):!J(a)||r&&D(a)?(d=!1,l=p(c)):l=r?p(a):a:d=!1),i.set(c,l),d&&o(l,c,r,u,i),s(t,n,l)}function b(t){return function(e){return null==e?void 0:e[t]}}function g(t){var e=t.constructor,n=new e(t.byteLength),r=new $t(n);return r.set(new $t(t)),n}function w(t){var e=t.constructor;return u(c(t),r,new e)}function m(t){var e=t.constructor,n=new e(t.source,xt.exec(t));return n.lastIndex=t.lastIndex,n}function j(t){var e=t.constructor;return u(f(t),o,new e)}function _(t){return It?Object(Ht.call(t)):{}}function O(t,e){var n=t.buffer,r=t.constructor;return new r(e?g(n):n,t.byteOffset,t.length)}function E(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function S(t,e,n){return A(t,e,n)}function A(t,e,n,r){n||(n={});for(var o=-1,u=e.length;++o<u;){var i=e[o],a=r?r(n[i],t[i],i,n,t):t[i];l(n,i,a)}return n}function x(t,e){return S(t,Qt(t),e)}function q(t){return Z(function(e,n){var r=-1,o=n.length,u=o>1?n[o-1]:void 0,i=o>2?n[2]:void 0;for(u="function"==typeof u?(o--,u):void 0,i&&P(n[0],n[1],i)&&(u=3>o?void 0:u,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,u)}return e})}function C(t,e){var n=null==t?void 0:t[e];return B(n)?n:void 0}function k(t){return Ft.call(t)}function R(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Pt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function T(t){if(F(t))return{};var e=t.constructor;return Xt(D(e)?e.prototype:void 0)}function M(t,e,n){var r=t.constructor;switch(e){case vt:return g(t);case rt:case ot:return new r(+t);case bt:case gt:case wt:case mt:case jt:case _t:case Ot:case Et:case St:return O(t,n);case ct:return w(t);case ft:case pt:return new r(t);case lt:return m(t);case dt:return j(t);case yt:return _(t)}}function P(t,e,n){if(!J(n))return!1;var r=typeof e;return("number"==r?$(n)&&a(e,n.length):"string"==r&&e in n)?N(n[e],t):!1}function F(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Tt;return t===n}function N(t,e){return t===e||t!==t&&e!==e}function I(t){return U(t)&&Pt.call(t,"callee")&&(!Dt.call(t,"callee")||Ft.call(t)==et)}function $(t){return null!=t&&!("function"==typeof t&&D(t))&&L(Yt(t))}function U(t){return G(t)&&$(t)}function D(t){var e=J(t)?Ft.call(t):"";return e==it||e==at}function L(t){return"number"==typeof t&&t>-1&&t%1==0&&tt>=t}function J(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function G(t){return!!t&&"object"==typeof t}function B(t){return null==t?!1:D(t)?Nt.test(Mt.call(t)):G(t)&&(i(t)?Nt:qt).test(t)}function z(t){return G(t)&&L(t.length)&&!!kt[Ft.call(t)]}function H(t){return S(t,W(t))}var X=t("lodash._stack"),Y=t("lodash._arrayeach"),Q=t("lodash._basefor"),K=t("lodash.isplainobject"),V=t("lodash.keys"),W=t("lodash.keysin"),Z=t("lodash.rest"),tt=9007199254740991,et="[object Arguments]",nt="[object Array]",rt="[object Boolean]",ot="[object Date]",ut="[object Error]",it="[object Function]",at="[object GeneratorFunction]",ct="[object Map]",ft="[object Number]",st="[object Object]",lt="[object RegExp]",dt="[object Set]",pt="[object String]",yt="[object Symbol]",ht="[object WeakMap]",vt="[object ArrayBuffer]",bt="[object Float32Array]",gt="[object Float64Array]",wt="[object Int8Array]",mt="[object Int16Array]",jt="[object Int32Array]",_t="[object Uint8Array]",Ot="[object Uint8ClampedArray]",Et="[object Uint16Array]",St="[object Uint32Array]",At=/[\\^$.*+?()[\]{}|]/g,xt=/\w*$/,qt=/^\[object .+?Constructor\]$/,Ct=/^(?:0|[1-9]\d*)$/,kt={};kt[bt]=kt[gt]=kt[wt]=kt[mt]=kt[jt]=kt[_t]=kt[Ot]=kt[Et]=kt[St]=!0,kt[et]=kt[nt]=kt[vt]=kt[rt]=kt[ot]=kt[ut]=kt[it]=kt[ct]=kt[ft]=kt[st]=kt[lt]=kt[dt]=kt[pt]=kt[ht]=!1;var Rt={};Rt[et]=Rt[nt]=Rt[vt]=Rt[rt]=Rt[ot]=Rt[bt]=Rt[gt]=Rt[wt]=Rt[mt]=Rt[jt]=Rt[ct]=Rt[ft]=Rt[st]=Rt[lt]=Rt[dt]=Rt[pt]=Rt[yt]=Rt[_t]=Rt[Ot]=Rt[Et]=Rt[St]=!0,Rt[ut]=Rt[it]=Rt[ht]=!1;var Tt=n.Object.prototype,Mt=n.Function.prototype.toString,Pt=Tt.hasOwnProperty,Ft=Tt.toString,Nt=RegExp("^"+Mt.call(Pt).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),It=n.Symbol,$t=n.Uint8Array,Ut=Object.getOwnPropertySymbols,Dt=Tt.propertyIsEnumerable,Lt=C(n,"Map"),Jt=C(n,"Set"),Gt=Lt?Mt.call(Lt):"",Bt=Jt?Mt.call(Jt):"",zt=It?It.prototype:void 0,Ht=It?zt.valueOf:void 0,Xt=function(){function t(){}return function(e){if(J(e)){t.prototype=e;var n=new t;t.prototype=void 0}return n||{}}}(),Yt=b("length"),Qt=Ut||function(){return[]};(Lt&&k(new Lt)!=ct||Jt&&k(new Jt)!=dt)&&(k=function(t){var e=Ft.call(t),n=e==st?t.constructor:null,r="function"==typeof n?Mt.call(n):"";if(r){if(r==Gt)return ct;if(r==Bt)return dt}return e});var Kt=Array.isArray,Vt=q(function(t,e,n){h(t,e,n)});e.exports=Vt}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._arrayeach":6,"lodash._basefor":7,"lodash._stack":8,"lodash.isplainobject":10,"lodash.keys":11,"lodash.keysin":12,"lodash.rest":13}],6:[function(t,e,n){function r(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}e.exports=r},{}],7:[function(t,e,n){function r(t){return function(e,n,r){for(var o=-1,u=Object(e),i=r(e),a=i.length;a--;){var c=i[t?a:++o];if(n(u[c],c,u)===!1)break}return e}}var o=r();e.exports=o},{}],8:[function(t,e,n){(function(n){function r(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function o(){this.__data__={array:[],map:null}}function u(t){var e=this.__data__,n=e.array;return n?f(n,t):e.map["delete"](t)}function i(t){var e=this.__data__,n=e.array;return n?s(n,t):e.map.get(t)}function a(t){var e=this.__data__,n=e.array;return n?l(n,t):e.map.has(t)}function c(t,e){var n=this.__data__,r=n.array;r&&(r.length<v-1?p(r,t,e):(n.array=null,n.map=new h(r)));var o=n.map;return o&&o.set(t,e),this}function f(t,e){var n=d(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():g.call(t,n,1),!0}function s(t,e){var n=d(t,e);return 0>n?void 0:t[n][1]}function l(t,e){return d(t,e)>-1}function d(t,e){for(var n=t.length;n--;)if(y(t[n][0],e))return n;return-1}function p(t,e,n){var r=d(t,e);0>r?t.push([e,n]):t[r][1]=n}function y(t,e){return t===e||t!==t&&e!==e}var h=t("lodash._mapcache"),v=200,b=n.Array.prototype,g=b.splice;r.prototype.clear=o,r.prototype["delete"]=u,r.prototype.get=i,r.prototype.has=a,r.prototype.set=c,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._mapcache":9}],9:[function(t,e,n){(function(t){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function r(){}function o(t,e){return i(t,e)&&delete t[e]}function u(t,e){if(U){var n=t[e];return n===A?void 0:n}return P.call(t,e)?t[e]:void 0}function i(t,e){return U?void 0!==t[e]:P.call(t,e)}function a(t,e,n){t[e]=U&&void 0===n?A:n}function c(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function f(){this.__data__={hash:new r,map:$?new $:[],string:new r}}function s(t){var e=this.__data__;return m(t)?o("string"==typeof t?e.string:e.hash,t):$?e.map["delete"](t):y(e.map,t)}function l(t){var e=this.__data__;return m(t)?u("string"==typeof t?e.string:e.hash,t):$?e.map.get(t):h(e.map,t)}function d(t){var e=this.__data__;return m(t)?i("string"==typeof t?e.string:e.hash,t):$?e.map.has(t):v(e.map,t)}function p(t,e){var n=this.__data__;return m(t)?a("string"==typeof t?n.string:n.hash,t,e):$?n.map.set(t,e):g(n.map,t,e),this}function y(t,e){var n=b(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():I.call(t,n,1),!0}function h(t,e){var n=b(t,e);return 0>n?void 0:t[n][1]}function v(t,e){return b(t,e)>-1}function b(t,e){for(var n=t.length;n--;)if(j(t[n][0],e))return n;return-1}function g(t,e,n){var r=b(t,e);0>r?t.push([e,n]):t[r][1]=n}function w(t,e){var n=null==t?void 0:t[e];return S(n)?n:void 0}function m(t){var e=typeof t;return"number"==e||"boolean"==e||"string"==e&&"__proto__"!==t||null==t}function j(t,e){return t===e||t!==t&&e!==e}function _(t){var e=O(t)?F.call(t):"";return e==x||e==q}function O(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function E(t){return!!t&&"object"==typeof t}function S(t){return null==t?!1:_(t)?N.test(M.call(t)):E(t)&&(n(t)?N:k).test(t)}var A="__lodash_hash_undefined__",x="[object Function]",q="[object GeneratorFunction]",C=/[\\^$.*+?()[\]{}|]/g,k=/^\[object .+?Constructor\]$/,R=t.Array.prototype,T=t.Object.prototype,M=t.Function.prototype.toString,P=T.hasOwnProperty,F=T.toString,N=RegExp("^"+M.call(P).replace(C,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=R.splice,$=w(t,"Map"),U=w(Object,"create");r.prototype=U?U(null):T,c.prototype.clear=f,c.prototype["delete"]=s,c.prototype.get=l,c.prototype.has=d,c.prototype.set=p,e.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(t,e,n){(function(t){function n(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function r(t){return!!t&&"object"==typeof t}function o(t){if(!r(t)||f.call(t)!=u||n(t))return!1;var e=i;if("function"==typeof t.constructor&&(e=s(t)),null===e)return!0;var o=e.constructor;return"function"==typeof o&&o instanceof o&&a.call(o)==c}var u="[object Object]",i=t.Object.prototype,a=t.Function.prototype.toString,c=a.call(Object),f=i.toString,s=Object.getPrototypeOf;e.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(t,e,n){arguments[4][3][0].apply(n,arguments)},{dup:3}],12:[function(t,e,n){(function(t){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function r(t,e){return t="number"==typeof t||O.test(t)?+t:-1,e=null==e?g:e,t>-1&&t%1==0&&e>t}function o(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function u(t){t=null==t?t:Object(t);var e=[];for(var n in t)e.push(n);return e}function i(t){return function(e){return null==e?void 0:e[t]}}function a(t){var e=t?t.length:void 0;return p(e)&&(R(t)||v(t)||f(t))?n(e,String):null}function c(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||E;return t===n}function f(t){return l(t)&&S.call(t,"callee")&&(!C.call(t,"callee")||A.call(t)==w)}function s(t){return null!=t&&!("function"==typeof t&&d(t))&&p(k(t))}function l(t){return h(t)&&s(t)}function d(t){var e=y(t)?A.call(t):"";return e==m||e==j}function p(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function y(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function h(t){return!!t&&"object"==typeof t}function v(t){return"string"==typeof t||!R(t)&&h(t)&&A.call(t)==_}function b(t){for(var e=-1,n=c(t),o=u(t),i=o.length,f=a(t),s=!!f,l=f||[],d=l.length;++e<i;){var p=o[e];s&&("length"==p||r(p,d))||"constructor"==p&&(n||!S.call(t,p))||l.push(p)}return l}var g=9007199254740991,w="[object Arguments]",m="[object Function]",j="[object GeneratorFunction]",_="[object String]",O=/^(?:0|[1-9]\d*)$/,E=t.Object.prototype,S=E.hasOwnProperty,A=E.toString,x=t.Reflect,q=x?x.enumerate:void 0,C=E.propertyIsEnumerable;q&&!C.call({valueOf:1},"valueOf")&&(u=function(t){return o(q(t))});var k=i("length"),R=Array.isArray;e.exports=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(t,e,n){arguments[4][4][0].apply(n,arguments)},{dup:4}],14:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=t("../methods/index"),u=t("lodash.assign"),i="services.fidemapps.com",a=function c(t){r(this,c),t=t||{},this.config=u({hostname:t.hostname||i,port:"https"===t.protocol?443:80,protocol:"http"},t)};n["default"]=a,u(a.prototype,o.clientMethods)},{"../methods/index":17,"lodash.assign":2}],15:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){t=Array.prototype.slice.call(t);var e=t.shift();f[e].apply(f,t)}function u(){for(;window.lr360.queue&&window.lr360.queue.length;){var t=window.lr360.queue.shift();o(t)}}function i(){window.lr360.queue.push=o}Object.defineProperty(n,"__esModule",{value:!0}),n.client=void 0,n.emptyQueue=u,n.replaceQueuePush=i;var a=t("./client/client"),c=r(a);window.lr360=window.lr360||{},window.lr360.queue=window.lr360.queue||[];var f=n.client=new c["default"];u(),i()},{"./client/client":14}],16:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){t=t||{};var n=void 0;if(n=a(this.config,t)){if(e&&"function"==typeof e)return e(new Error(n));throw new Error(n)}var r=u.call(this,t);return i(r,function(t){t.body&&(t=p({},t,{body:JSON.stringify(t.body)}));var n=t.method.toLowerCase();return s["default"][n](t,function(t,n,r){var o=void 0;if(n&&n.statusCode>=299&&(o=new d["default"](r,n.statusCode)),e&&"function"==typeof e)return e(t||o||null,r&&JSON.parse(r));if(t||o)throw t||o})})}function u(t){t=t||{};var e={url:c(p({},t,this.config)),method:t.method||"GET",headers:{"X-Fidem-AccessApiKey":this.config.key||null,accept:"application/json"},qs:t.qs||null};return t.token&&(e=y({},e,{headers:{"X-Fidem-SessionToken":t.token}})),t.method&&-1!==["put","post"].indexOf(t.method.toLowerCase())&&(e=y({},e,{headers:{"content-type":"application/json"}}),t.body&&(e=y({},e,{body:t.body}))),e}function i(t,e){function n(n){var r={lat:n.coords.latitude,"long":n.coords.longitude};e(y({},t,{body:{coordinates:r}}))}function r(){e(y({},t,{body:{coordinates:null}}))}return t.method&&-1!==["put","post"].indexOf(t.method.toLowerCase())?void(window.navigator&&window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(n,r):r()):e(t)}function a(t,e){return t.key?e.path?!1:"You must provide a path.":"You must provide a key."}function c(t){var e=t.path||"";return t.protocol+"://"+t.hostname+":"+t.port+e}Object.defineProperty(n,"__esModule",{value:!0}),n.baseRequest=o,n.getRequestOptions=u,n.addGeolocation=i;var f=t("browser-request"),s=r(f),l=t("./request.error"),d=r(l),p=t("lodash.assign"),y=t("lodash.merge")},{"./request.error":18,"browser-request":1,"lodash.assign":2,"lodash.merge":5}],17:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0}),n.clientMethods=void 0;var o=t("./track.action"),u=r(o),i=t("./setup"),a=r(i),c=t("./base.request");n.clientMethods={setup:a["default"],trackAction:u["default"],baseRequest:c.baseRequest}},{"./base.request":16,"./setup":19,"./track.action":20}],18:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(t,n){r(this,e),t=t||{},n=n||"";try{t=JSON.parse(t)}catch(u){}var i=o(this,Object.getPrototypeOf(e).call(this,t.error));return i.body=t,i.statusCode=n,i}return u(e,t),e}(Error);n["default"]=i},{}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t){t=t||{},this.config=r({},this.config,t)};var r=t("lodash.assign")},{"lodash.assign":2}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=function(t,e){if(t=t||{},!t.type){if(e&&"function"==typeof e)return e(new Error(u));throw new Error(u)}return this.baseRequest({method:r,body:t,path:o},e)};var r="POST",o="/api/gamification/actions",u="You must provide the type of action to be tracked."},{}]},{},[15]);
