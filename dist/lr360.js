!function t(n,e,r){function o(i,a){if(!e[i]){if(!n[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(u)return u(i,!0);var f=new Error("Cannot find module '"+i+"'");throw f.code="MODULE_NOT_FOUND",f}var l=e[i]={exports:{}};n[i][0].call(l.exports,function(t){var e=n[i][1][t];return o(e?e:t)},l,l.exports,t,n,e,r)}return e[i].exports}for(var u="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(t,n,e){!function(t,r){"function"==typeof define&&define.amd?define([],r):"object"==typeof e?n.exports=r():t.returnExports=r()}(this,function(){function t(o,u){if("function"!=typeof u)throw new Error("Bad callback given: "+u);if(!o)throw new Error("No options given");var a=o.onResponse;if(o="string"==typeof o?{uri:o}:JSON.parse(JSON.stringify(o)),o.onResponse=a,o.verbose&&(t.log=r()),o.url&&(o.uri=o.url,delete o.url),!o.uri&&""!==o.uri)throw new Error("options.uri is a required argument");if("string"!=typeof o.uri)throw new Error("options.uri must be a string");for(var c=["proxy","_redirectsFollowed","maxRedirects","followRedirect"],f=0;f<c.length;f++)if(o[c[f]])throw new Error("options."+c[f]+" is not supported");if(o.callback=u,o.method=o.method||"GET",o.headers=o.headers||{},o.body=o.body||null,o.timeout=o.timeout||t.DEFAULT_TIMEOUT,o.headers.host)throw new Error("Options.headers.host is not supported");o.json&&(o.headers.accept=o.headers.accept||"application/json","GET"!==o.method&&(o.headers["content-type"]="application/json"),"boolean"!=typeof o.json?o.body=JSON.stringify(o.json):"string"!=typeof o.body&&(o.body=JSON.stringify(o.body)));var l=function(t){var n=[];for(var e in t)t.hasOwnProperty(e)&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return n.join("&")};if(o.qs){var s="string"==typeof o.qs?o.qs:l(o.qs);-1!==o.uri.indexOf("?")?o.uri=o.uri+"&"+s:o.uri=o.uri+"?"+s}var d=function(t){var n={};n.boundry="-------------------------------"+Math.floor(1e9*Math.random());var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push("--"+n.boundry+'\nContent-Disposition: form-data; name="'+r+'"\n\n'+t[r]+"\n");return e.push("--"+n.boundry+"--"),n.body=e.join(""),n.length=n.body.length,n.type="multipart/form-data; boundary="+n.boundry,n};if(o.form){if("string"==typeof o.form)throw"form name unsupported";if("POST"===o.method){var p=(o.encoding||"application/x-www-form-urlencoded").toLowerCase();switch(o.headers["content-type"]=p,p){case"application/x-www-form-urlencoded":o.body=l(o.form).replace(/%20/g,"+");break;case"multipart/form-data":var y=d(o.form);o.body=y.body,o.headers["content-type"]=y.type;break;default:throw new Error("unsupported encoding:"+p)}}}return o.onResponse=o.onResponse||e,o.onResponse===!0&&(o.onResponse=u,o.callback=e),!o.headers.authorization&&o.auth&&(o.headers.authorization="Basic "+i(o.auth.username+":"+o.auth.password)),n(o)}function n(n){function e(){s=!0;var e=new Error("ETIMEDOUT");return e.code="ETIMEDOUT",e.duration=n.timeout,t.log.error("Timeout",{id:l._id,milliseconds:n.timeout}),n.callback(e,l)}function r(e){if(s)return t.log.debug("Ignoring timed out state change",{state:l.readyState,id:l.id});if(t.log.debug("State change",{state:l.readyState,id:l.id,timed_out:s}),l.readyState===a.OPENED){t.log.debug("Request started",{id:l.id});for(var r in n.headers)l.setRequestHeader(r,n.headers[r])}else l.readyState===a.HEADERS_RECEIVED?o():l.readyState===a.LOADING?(o(),i()):l.readyState===a.DONE&&(o(),i(),c())}function o(){if(!h.response){if(h.response=!0,t.log.debug("Got response",{id:l.id,status:l.status}),clearTimeout(l.timeoutTimer),l.statusCode=l.status,d&&0==l.statusCode){var e=new Error("CORS request rejected: "+n.uri);return e.cors="rejected",h.loading=!0,h.end=!0,n.callback(e,l)}n.onResponse(null,l)}}function i(){h.loading||(h.loading=!0,t.log.debug("Response body loading",{id:l.id}))}function c(){if(!h.end){if(h.end=!0,t.log.debug("Request done",{id:l.id}),l.body=l.responseText,n.json)try{l.body=JSON.parse(l.responseText)}catch(e){return n.callback(e,l)}n.callback(null,l,l.body)}}var l=new a,s=!1,d=u(n.uri),p="withCredentials"in l;if(f+=1,l.seq_id=f,l.id=f+": "+n.method+" "+n.uri,l._id=l.id,d&&!p){var y=new Error("Browser does not support cross-origin request: "+n.uri);return y.cors="unsupported",n.callback(y,l)}l.timeoutTimer=setTimeout(e,n.timeout);var h={response:!1,loading:!1,end:!1};return l.onreadystatechange=r,l.open(n.method,n.uri,!0),d&&(l.withCredentials=!!n.withCredentials),l.send(n.body),l}function e(){}function r(){var t,n,r={},u=["trace","debug","info","warn","error"];for(n=0;n<u.length;n++)t=u[n],r[t]=e,"undefined"!=typeof console&&console&&console[t]&&(r[t]=o(console,t));return r}function o(t,n){function e(e,r){return"object"==typeof r&&(e+=" "+JSON.stringify(r)),t[n].call(t,e)}return e}function u(t){var n,e=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/;try{n=location.href}catch(r){n=document.createElement("a"),n.href="",n=n.href}var o=e.exec(n.toLowerCase())||[],u=e.exec(t.toLowerCase()),i=!(!u||u[1]==o[1]&&u[2]==o[2]&&(u[3]||("http:"===u[1]?80:443))==(o[3]||("http:"===o[1]?80:443)));return i}function i(t){var n,e,r,o,u,i,a,c,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,s=0,d="",p=[];if(!t)return t;do n=t.charCodeAt(l++),e=t.charCodeAt(l++),r=t.charCodeAt(l++),c=n<<16|e<<8|r,o=c>>18&63,u=c>>12&63,i=c>>6&63,a=63&c,p[s++]=f.charAt(o)+f.charAt(u)+f.charAt(i)+f.charAt(a);while(l<t.length);switch(d=p.join(""),t.length%3){case 1:d=d.slice(0,-2)+"==";break;case 2:d=d.slice(0,-1)+"="}return d}var a=XMLHttpRequest;if(!a)throw new Error("missing XMLHttpRequest");t.log={trace:e,debug:e,info:e,warn:e,error:e};var c=18e4,f=0;t.withCredentials=!1,t.DEFAULT_TIMEOUT=c,t.defaults=function(n,e){var r=function(t){var e=function(e,r){e="string"==typeof e?{uri:e}:JSON.parse(JSON.stringify(e));for(var o in n)void 0===e[o]&&(e[o]=n[o]);return t(e,r)};return e},o=r(t);return o.get=r(t.get),o.post=r(t.post),o.put=r(t.put),o.head=r(t.head),o};var l=["get","put","post","head"];return l.forEach(function(n){var e=n.toUpperCase(),r=n.toLowerCase();t[r]=function(n){"string"==typeof n?n={method:e,uri:n}:(n=JSON.parse(JSON.stringify(n)),n.method=e);var r=[n].concat(Array.prototype.slice.apply(arguments,[1]));return t.apply(this,r)}}),t.couch=function(n,r){function o(t,n,e){if(t)return r(t,n,e);if((n.statusCode<200||n.statusCode>299)&&e.error){t=new Error("CouchDB error: "+(e.error.reason||e.error.error));for(var o in e)t[o]=e[o];return r(t,n,e)}return r(t,n,e)}"string"==typeof n&&(n={uri:n}),n.json=!0,n.body&&(n.json=n.body),delete n.body,r=r||e;var u=t(n,o);return u},t})},{}],2:[function(t,n,e){(function(e){function r(t,n){return t="number"==typeof t||m.test(t)?+t:-1,n=null==n?b:n,t>-1&&t%1==0&&n>t}function o(t,n,e){var r=t[n];(!l(r,e)||l(r,j[n])&&!O.call(t,n)||void 0===e&&!(n in t))&&(t[n]=e)}function u(t){return function(n){return null==n?void 0:n[t]}}function i(t,n,e){return a(t,n,e)}function a(t,n,e,r){e||(e={});for(var u=-1,i=n.length;++u<i;){var a=n[u],c=r?r(e[a],t[a],a,e,t):t[a];o(e,a,c)}return e}function c(t){return v(function(n,e){var r=-1,o=e.length,u=o>1?e[o-1]:void 0,i=o>2?e[2]:void 0;for(u="function"==typeof u?(o--,u):void 0,i&&f(e[0],e[1],i)&&(u=3>o?void 0:u,o=1),n=Object(n);++r<o;){var a=e[r];a&&t(n,a,r,u)}return n})}function f(t,n,e){if(!y(e))return!1;var o=typeof n;return("number"==o?s(e)&&r(n,e.length):"string"==o&&n in e)?l(e[n],t):!1}function l(t,n){return t===n||t!==t&&n!==n}function s(t){return null!=t&&!("function"==typeof t&&d(t))&&p(E(t))}function d(t){var n=y(t)?_.call(t):"";return n==g||n==w}function p(t){return"number"==typeof t&&t>-1&&t%1==0&&b>=t}function y(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}var h=t("lodash.keys"),v=t("lodash.rest"),b=9007199254740991,g="[object Function]",w="[object GeneratorFunction]",m=/^(?:0|[1-9]\d*)$/,j=e.Object.prototype,O=j.hasOwnProperty,_=j.toString,E=u("length"),S=c(function(t,n){i(n,h(n),t)});n.exports=S}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash.keys":3,"lodash.rest":4}],3:[function(t,n,e){(function(t){function e(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function r(t,n){return t="number"==typeof t||_.test(t)?+t:-1,n=null==n?g:n,t>-1&&t%1==0&&n>t}function o(t,n){return S.call(t,n)||"object"==typeof t&&n in t&&null===x(t)}function u(t){return C(Object(t))}function i(t){return function(n){return null==n?void 0:n[t]}}function a(t){var n=t?t.length:void 0;return p(n)&&(k(t)||v(t)||f(t))?e(n,String):null}function c(t){var n=t&&t.constructor,e="function"==typeof n&&n.prototype||E;return t===e}function f(t){return s(t)&&S.call(t,"callee")&&(!q.call(t,"callee")||A.call(t)==w)}function l(t){return null!=t&&!("function"==typeof t&&d(t))&&p(T(t))}function s(t){return h(t)&&l(t)}function d(t){var n=y(t)?A.call(t):"";return n==m||n==j}function p(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function y(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function h(t){return!!t&&"object"==typeof t}function v(t){return"string"==typeof t||!k(t)&&h(t)&&A.call(t)==O}function b(t){var n=c(t);if(!n&&!l(t))return u(t);var e=a(t),i=!!e,f=e||[],s=f.length;for(var d in t)!o(t,d)||i&&("length"==d||r(d,s))||n&&"constructor"==d||f.push(d);return f}var g=9007199254740991,w="[object Arguments]",m="[object Function]",j="[object GeneratorFunction]",O="[object String]",_=/^(?:0|[1-9]\d*)$/,E=t.Object.prototype,S=E.hasOwnProperty,A=E.toString,x=Object.getPrototypeOf,q=E.propertyIsEnumerable,C=Object.keys,T=i("length"),k=Array.isArray;n.exports=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,n,e){(function(t){function e(t,n,e){var r=e?e.length:0;switch(r){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function r(t,n){if("function"!=typeof t)throw new TypeError(c);return n=j(void 0===n?t.length-1:i(n),0),function(){for(var r=arguments,o=-1,u=j(r.length-n,0),i=Array(u);++o<u;)i[o]=r[n+o];switch(n){case 0:return t.call(this,i);case 1:return t.call(this,r[0],i);case 2:return t.call(this,r[0],r[1],i)}var a=Array(n+1);for(o=-1;++o<n;)a[o]=r[o];return a[n]=i,e(t,this,a)}}function o(t){var n=u(t)?m.call(t):"";return n==d||n==p}function u(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function i(t){if(!t)return 0===t?t:0;if(t=a(t),t===f||t===-f){var n=0>t?-1:1;return n*l}var e=t%1;return t===t?e?t-e:t:0}function a(t){if(u(t)){var n=o(t.valueOf)?t.valueOf():t;t=u(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(y,"");var e=v.test(t);return e||b.test(t)?g(t.slice(2),e?2:8):h.test(t)?s:+t}var c="Expected a function",f=1/0,l=1.7976931348623157e308,s=NaN,d="[object Function]",p="[object GeneratorFunction]",y=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,v=/^0b[01]+$/i,b=/^0o[0-7]+$/i,g=parseInt,w=t.Object.prototype,m=w.toString,j=Math.max;n.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,n,e){(function(r){function o(t){return t&&t.Object===Object?t:null}function u(t,n){return t="number"==typeof t||I.test(t)?+t:-1,n=null==n?q:n,t>-1&&t%1==0&&n>t}function i(t,n){return Y.call(t,n)||"object"==typeof t&&n in t&&null===V(t)}function a(t){return function(n){return null==n?void 0:n[t]}}function c(t){return et(t)?t:d(t)}function f(t,n,e){if(null==t)return!1;var r=e(t,n);r||l(n)||(n=c(n),t=s(t,n),null!=t&&(n=p(n),r=e(t,n)));var o=t?t.length:void 0;return r||!!o&&g(o)&&u(n,o)&&(et(t)||j(t)||y(t))}function l(t,n){return"number"==typeof t?!0:!et(t)&&(F.test(t)||!M.test(t)||null!=n&&t in Object(n))}function s(t,n){return 1==n.length?t:A(t,S(n,0,-1))}function d(t){var n=[];return _(t).replace($,function(t,e,r,o){n.push(r?o.replace(N,"$1"):e||t)}),n}function p(t){var n=t?t.length:0;return n?t[n-1]:void 0}function y(t){return v(t)&&Y.call(t,"callee")&&(!W.call(t,"callee")||Q.call(t)==C)}function h(t){return null!=t&&!("function"==typeof t&&b(t))&&g(nt(t))}function v(t){return m(t)&&h(t)}function b(t){var n=w(t)?Q.call(t):"";return n==T||n==k}function g(t){return"number"==typeof t&&t>-1&&t%1==0&&q>=t}function w(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function m(t){return!!t&&"object"==typeof t}function j(t){return"string"==typeof t||!et(t)&&m(t)&&Q.call(t)==P}function O(t){return"symbol"==typeof t||m(t)&&Q.call(t)==R}function _(t){if("string"==typeof t)return t;if(null==t)return"";if(O(t))return K?tt.call(t):"";var n=t+"";return"0"==n&&1/t==-x?"-0":n}function E(t,n){return f(t,n,i)}var S=t("lodash._baseslice"),A=t("lodash.get"),x=1/0,q=9007199254740991,C="[object Arguments]",T="[object Function]",k="[object GeneratorFunction]",P="[object String]",R="[object Symbol]",M=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,F=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,N=/\\(\\)?/g,I=/^(?:0|[1-9]\d*)$/,D={"function":!0,object:!0},U=D[typeof e]&&e&&!e.nodeType?e:null,L=D[typeof n]&&n&&!n.nodeType?n:null,G=o(U&&L&&"object"==typeof r&&r),J=o(D[typeof self]&&self),B=o(D[typeof window]&&window),z=o(D[typeof this]&&this),H=G||B!==(z&&z.window)&&B||J||z||Function("return this")(),X=Object.prototype,Y=X.hasOwnProperty,Q=X.toString,K=H.Symbol,V=Object.getPrototypeOf,W=X.propertyIsEnumerable,Z=K?K.prototype:void 0,tt=K?Z.toString:void 0,nt=a("length"),et=Array.isArray;n.exports=E}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._baseslice":6,"lodash.get":7}],6:[function(t,n,e){function r(t,n,e){var r=-1,o=t.length;0>n&&(n=-n>o?0:o+n),e=e>o?o:e,0>e&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var u=Array(o);++r<o;)u[r]=t[r+n];return u}n.exports=r},{}],7:[function(t,n,e){(function(t){function r(t){return t&&t.Object===Object?t:null}function o(t,n){n=i(n,t)?[n+""]:u(n);for(var e=0,r=n.length;null!=t&&r>e;)t=t[n[e++]];return e&&e==r?t:void 0}function u(t){return k(t)?t:a(t)}function i(t,n){return"number"==typeof t?!0:!k(t)&&(h.test(t)||!y.test(t)||null!=n&&t in Object(n))}function a(t){var n=[];return l(t).replace(v,function(t,e,r,o){n.push(r?o.replace(b,"$1"):e||t)}),n}function c(t){return!!t&&"object"==typeof t}function f(t){return"symbol"==typeof t||c(t)&&x.call(t)==p}function l(t){if("string"==typeof t)return t;if(null==t)return"";if(f(t))return q?T.call(t):"";var n=t+"";return"0"==n&&1/t==-d?"-0":n}function s(t,n,e){var r=null==t?void 0:o(t,n);return void 0===r?e:r}var d=1/0,p="[object Symbol]",y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,v=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,b=/\\(\\)?/g,g={"function":!0,object:!0},w=g[typeof e]&&e&&!e.nodeType?e:null,m=g[typeof n]&&n&&!n.nodeType?n:null,j=r(w&&m&&"object"==typeof t&&t),O=r(g[typeof self]&&self),_=r(g[typeof window]&&window),E=r(g[typeof this]&&this),S=j||_!==(E&&E.window)&&_||O||E||Function("return this")(),A=Object.prototype,x=A.toString,q=S.Symbol,C=q?q.prototype:void 0,T=q?C.toString:void 0,k=Array.isArray;n.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(t,n,e){(function(e){function r(t,n){return t.set(n[0],n[1]),t}function o(t,n){return t.add(n),t}function u(t,n,e,r){var o=-1,u=t.length;for(r&&u&&(e=t[++o]);++o<u;)e=n(e,t[o],o,t);return e}function i(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(e){}return n}function a(t,n){return t="number"==typeof t||Ct.test(t)?+t:-1,n=null==n?tt:n,t>-1&&t%1==0&&n>t}function c(t){var n=-1,e=Array(t.size);return t.forEach(function(t,r){e[++n]=[r,t]}),e}function f(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}function l(t,n,e){(void 0!==e&&!$(t[n],e)||"number"==typeof n&&void 0===e&&!(n in t))&&(t[n]=e)}function s(t,n,e){var r=t[n];(!$(r,e)||$(r,Pt[n])&&!Mt.call(t,n)||void 0===e&&!(n in t))&&(t[n]=e)}function d(t,n){return t&&S(n,V(n),t)}function p(t,n,e,r,o,u){var a;if(e&&(a=o?e(t,r,o,u):e(t)),void 0!==a)return a;if(!G(t))return t;var c=Kt(t);if(c){if(a=k(t),!n)return E(t,a)}else{var f=T(t),l=f==it||f==at;if(f!=lt&&f!=nt&&(!l||o))return kt[f]?R(t,f,n):o?t:{};if(i(t))return o?t:{};if(a=P(l?{}:t),!n)return x(t,d(a,t))}u||(u=new X);var h=u.get(t);return h?h:(u.set(t,a),(c?Y:y)(t,function(r,o){s(a,o,p(r,n,e,o,t,u))}),c?a:x(t,a))}function y(t,n){return t&&Q(t,n,V)}function h(t,n,e,r,o){if(t!==n){var u=Kt(n)||z(n)?void 0:W(n);Y(u||n,function(i,a){if(u&&(a=i,i=n[a]),G(i))o||(o=new X),v(t,n,a,e,h,r,o);else{var c=r?r(t[a],i,a+"",t,n,o):void 0;void 0===c&&(c=i),l(t,a,c)}})}}function v(t,n,e,r,o,u,i){var a=t[e],c=n[e],f=i.get(c);if(f)return void l(t,e,f);var s=u?u(a,c,e+"",t,n,i):void 0,d=void 0===s;d&&(s=c,Kt(c)||z(c)?Kt(a)?s=r?E(a):a:D(a)?s=E(a):(d=!1,s=p(c)):K(c)||N(c)?N(a)?s=H(a):!G(a)||r&&U(a)?(d=!1,s=p(c)):s=r?p(a):a:d=!1),i.set(c,s),d&&o(s,c,r,u,i),l(t,e,s)}function b(t){return function(n){return null==n?void 0:n[t]}}function g(t){var n=t.constructor,e=new n(t.byteLength),r=new It(e);return r.set(new It(t)),e}function w(t){var n=t.constructor;return u(c(t),r,new n)}function m(t){var n=t.constructor,e=new n(t.source,xt.exec(t));return e.lastIndex=t.lastIndex,e}function j(t){var n=t.constructor;return u(f(t),o,new n)}function O(t){return Nt?Object(Ht.call(t)):{}}function _(t,n){var e=t.buffer,r=t.constructor;return new r(n?g(e):e,t.byteOffset,t.length)}function E(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}function S(t,n,e){return A(t,n,e)}function A(t,n,e,r){e||(e={});for(var o=-1,u=n.length;++o<u;){var i=n[o],a=r?r(e[i],t[i],i,e,t):t[i];s(e,i,a)}return e}function x(t,n){return S(t,Qt(t),n)}function q(t){return Z(function(n,e){var r=-1,o=e.length,u=o>1?e[o-1]:void 0,i=o>2?e[2]:void 0;for(u="function"==typeof u?(o--,u):void 0,i&&M(e[0],e[1],i)&&(u=3>o?void 0:u,o=1),n=Object(n);++r<o;){var a=e[r];a&&t(n,a,r,u)}return n})}function C(t,n){var e=null==t?void 0:t[n];return B(e)?e:void 0}function T(t){return Ft.call(t)}function k(t){var n=t.length,e=t.constructor(n);return n&&"string"==typeof t[0]&&Mt.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function P(t){if(F(t))return{};var n=t.constructor;return Xt(U(n)?n.prototype:void 0)}function R(t,n,e){var r=t.constructor;switch(n){case vt:return g(t);case rt:case ot:return new r(+t);case bt:case gt:case wt:case mt:case jt:case Ot:case _t:case Et:case St:return _(t,e);case ct:return w(t);case ft:case pt:return new r(t);case st:return m(t);case dt:return j(t);case yt:return O(t)}}function M(t,n,e){if(!G(e))return!1;var r=typeof n;return("number"==r?I(e)&&a(n,e.length):"string"==r&&n in e)?$(e[n],t):!1}function F(t){var n=t&&t.constructor,e="function"==typeof n&&n.prototype||Pt;return t===e}function $(t,n){return t===n||t!==t&&n!==n}function N(t){return D(t)&&Mt.call(t,"callee")&&(!Ut.call(t,"callee")||Ft.call(t)==nt)}function I(t){return null!=t&&!("function"==typeof t&&U(t))&&L(Yt(t))}function D(t){return J(t)&&I(t)}function U(t){var n=G(t)?Ft.call(t):"";return n==it||n==at}function L(t){return"number"==typeof t&&t>-1&&t%1==0&&tt>=t}function G(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function J(t){return!!t&&"object"==typeof t}function B(t){return null==t?!1:U(t)?$t.test(Rt.call(t)):J(t)&&(i(t)?$t:qt).test(t)}function z(t){return J(t)&&L(t.length)&&!!Tt[Ft.call(t)]}function H(t){return S(t,W(t))}var X=t("lodash._stack"),Y=t("lodash._arrayeach"),Q=t("lodash._basefor"),K=t("lodash.isplainobject"),V=t("lodash.keys"),W=t("lodash.keysin"),Z=t("lodash.rest"),tt=9007199254740991,nt="[object Arguments]",et="[object Array]",rt="[object Boolean]",ot="[object Date]",ut="[object Error]",it="[object Function]",at="[object GeneratorFunction]",ct="[object Map]",ft="[object Number]",lt="[object Object]",st="[object RegExp]",dt="[object Set]",pt="[object String]",yt="[object Symbol]",ht="[object WeakMap]",vt="[object ArrayBuffer]",bt="[object Float32Array]",gt="[object Float64Array]",wt="[object Int8Array]",mt="[object Int16Array]",jt="[object Int32Array]",Ot="[object Uint8Array]",_t="[object Uint8ClampedArray]",Et="[object Uint16Array]",St="[object Uint32Array]",At=/[\\^$.*+?()[\]{}|]/g,xt=/\w*$/,qt=/^\[object .+?Constructor\]$/,Ct=/^(?:0|[1-9]\d*)$/,Tt={};Tt[bt]=Tt[gt]=Tt[wt]=Tt[mt]=Tt[jt]=Tt[Ot]=Tt[_t]=Tt[Et]=Tt[St]=!0,Tt[nt]=Tt[et]=Tt[vt]=Tt[rt]=Tt[ot]=Tt[ut]=Tt[it]=Tt[ct]=Tt[ft]=Tt[lt]=Tt[st]=Tt[dt]=Tt[pt]=Tt[ht]=!1;var kt={};kt[nt]=kt[et]=kt[vt]=kt[rt]=kt[ot]=kt[bt]=kt[gt]=kt[wt]=kt[mt]=kt[jt]=kt[ct]=kt[ft]=kt[lt]=kt[st]=kt[dt]=kt[pt]=kt[yt]=kt[Ot]=kt[_t]=kt[Et]=kt[St]=!0,kt[ut]=kt[it]=kt[ht]=!1;var Pt=e.Object.prototype,Rt=e.Function.prototype.toString,Mt=Pt.hasOwnProperty,Ft=Pt.toString,$t=RegExp("^"+Rt.call(Mt).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=e.Symbol,It=e.Uint8Array,Dt=Object.getOwnPropertySymbols,Ut=Pt.propertyIsEnumerable,Lt=C(e,"Map"),Gt=C(e,"Set"),Jt=Lt?Rt.call(Lt):"",Bt=Gt?Rt.call(Gt):"",zt=Nt?Nt.prototype:void 0,Ht=Nt?zt.valueOf:void 0,Xt=function(){function t(){}return function(n){if(G(n)){t.prototype=n;var e=new t;t.prototype=void 0}return e||{}}}(),Yt=b("length"),Qt=Dt||function(){return[]};(Lt&&T(new Lt)!=ct||Gt&&T(new Gt)!=dt)&&(T=function(t){var n=Ft.call(t),e=n==lt?t.constructor:null,r="function"==typeof e?Rt.call(e):"";if(r){if(r==Jt)return ct;if(r==Bt)return dt}return n});var Kt=Array.isArray,Vt=q(function(t,n,e){h(t,n,e)});n.exports=Vt}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._arrayeach":9,"lodash._basefor":10,"lodash._stack":11,"lodash.isplainobject":13,"lodash.keys":14,"lodash.keysin":15,"lodash.rest":16}],9:[function(t,n,e){function r(t,n){for(var e=-1,r=t.length;++e<r&&n(t[e],e,t)!==!1;);return t}n.exports=r},{}],10:[function(t,n,e){function r(t){return function(n,e,r){for(var o=-1,u=Object(n),i=r(n),a=i.length;a--;){var c=i[t?a:++o];if(e(u[c],c,u)===!1)break}return n}}var o=r();n.exports=o},{}],11:[function(t,n,e){(function(e){function r(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function o(){this.__data__={array:[],map:null}}function u(t){var n=this.__data__,e=n.array;return e?f(e,t):n.map["delete"](t)}function i(t){var n=this.__data__,e=n.array;return e?l(e,t):n.map.get(t)}function a(t){var n=this.__data__,e=n.array;return e?s(e,t):n.map.has(t)}function c(t,n){var e=this.__data__,r=e.array;r&&(r.length<v-1?p(r,t,n):(e.array=null,e.map=new h(r)));var o=e.map;return o&&o.set(t,n),this}function f(t,n){var e=d(t,n);if(0>e)return!1;var r=t.length-1;return e==r?t.pop():g.call(t,e,1),!0}function l(t,n){var e=d(t,n);return 0>e?void 0:t[e][1]}function s(t,n){return d(t,n)>-1}function d(t,n){for(var e=t.length;e--;)if(y(t[e][0],n))return e;return-1}function p(t,n,e){var r=d(t,n);0>r?t.push([n,e]):t[r][1]=e}function y(t,n){return t===n||t!==t&&n!==n}var h=t("lodash._mapcache"),v=200,b=e.Array.prototype,g=b.splice;r.prototype.clear=o,r.prototype["delete"]=u,r.prototype.get=i,r.prototype.has=a,r.prototype.set=c,n.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._mapcache":12}],12:[function(t,n,e){(function(t){function e(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(e){}return n}function r(){}function o(t,n){return i(t,n)&&delete t[n]}function u(t,n){if(D){var e=t[n];return e===A?void 0:e}return M.call(t,n)?t[n]:void 0}function i(t,n){return D?void 0!==t[n]:M.call(t,n)}function a(t,n,e){t[n]=D&&void 0===e?A:e}function c(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function f(){this.__data__={hash:new r,map:I?new I:[],string:new r}}function l(t){var n=this.__data__;return m(t)?o("string"==typeof t?n.string:n.hash,t):I?n.map["delete"](t):y(n.map,t)}function s(t){var n=this.__data__;return m(t)?u("string"==typeof t?n.string:n.hash,t):I?n.map.get(t):h(n.map,t)}function d(t){var n=this.__data__;return m(t)?i("string"==typeof t?n.string:n.hash,t):I?n.map.has(t):v(n.map,t)}function p(t,n){var e=this.__data__;return m(t)?a("string"==typeof t?e.string:e.hash,t,n):I?e.map.set(t,n):g(e.map,t,n),this}function y(t,n){var e=b(t,n);if(0>e)return!1;var r=t.length-1;return e==r?t.pop():N.call(t,e,1),!0}function h(t,n){var e=b(t,n);return 0>e?void 0:t[e][1]}function v(t,n){return b(t,n)>-1}function b(t,n){for(var e=t.length;e--;)if(j(t[e][0],n))return e;return-1}function g(t,n,e){var r=b(t,n);0>r?t.push([n,e]):t[r][1]=e}function w(t,n){var e=null==t?void 0:t[n];return S(e)?e:void 0}function m(t){var n=typeof t;return"number"==n||"boolean"==n||"string"==n&&"__proto__"!==t||null==t}function j(t,n){return t===n||t!==t&&n!==n}function O(t){var n=_(t)?F.call(t):"";return n==x||n==q}function _(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function E(t){return!!t&&"object"==typeof t}function S(t){return null==t?!1:O(t)?$.test(R.call(t)):E(t)&&(e(t)?$:T).test(t)}var A="__lodash_hash_undefined__",x="[object Function]",q="[object GeneratorFunction]",C=/[\\^$.*+?()[\]{}|]/g,T=/^\[object .+?Constructor\]$/,k=t.Array.prototype,P=t.Object.prototype,R=t.Function.prototype.toString,M=P.hasOwnProperty,F=P.toString,$=RegExp("^"+R.call(M).replace(C,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=k.splice,I=w(t,"Map"),D=w(Object,"create");r.prototype=D?D(null):P,c.prototype.clear=f,c.prototype["delete"]=l,c.prototype.get=s,c.prototype.has=d,c.prototype.set=p,n.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(t,n,e){(function(t){function e(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(e){}return n}function r(t){return!!t&&"object"==typeof t}function o(t){if(!r(t)||f.call(t)!=u||e(t))return!1;var n=i;if("function"==typeof t.constructor&&(n=l(t)),null===n)return!0;var o=n.constructor;return"function"==typeof o&&o instanceof o&&a.call(o)==c}var u="[object Object]",i=t.Object.prototype,a=t.Function.prototype.toString,c=a.call(Object),f=i.toString,l=Object.getPrototypeOf;n.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(t,n,e){arguments[4][3][0].apply(e,arguments)},{dup:3}],15:[function(t,n,e){(function(t){function e(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function r(t,n){return t="number"==typeof t||_.test(t)?+t:-1,n=null==n?g:n,t>-1&&t%1==0&&n>t}function o(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}function u(t){t=null==t?t:Object(t);var n=[];for(var e in t)n.push(e);return n}function i(t){return function(n){return null==n?void 0:n[t]}}function a(t){var n=t?t.length:void 0;return p(n)&&(k(t)||v(t)||f(t))?e(n,String):null}function c(t){var n=t&&t.constructor,e="function"==typeof n&&n.prototype||E;return t===e}function f(t){return s(t)&&S.call(t,"callee")&&(!C.call(t,"callee")||A.call(t)==w)}function l(t){return null!=t&&!("function"==typeof t&&d(t))&&p(T(t))}function s(t){return h(t)&&l(t)}function d(t){var n=y(t)?A.call(t):"";return n==m||n==j}function p(t){return"number"==typeof t&&t>-1&&t%1==0&&g>=t}function y(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function h(t){return!!t&&"object"==typeof t}function v(t){return"string"==typeof t||!k(t)&&h(t)&&A.call(t)==O}function b(t){for(var n=-1,e=c(t),o=u(t),i=o.length,f=a(t),l=!!f,s=f||[],d=s.length;++n<i;){var p=o[n];l&&("length"==p||r(p,d))||"constructor"==p&&(e||!S.call(t,p))||s.push(p)}return s}var g=9007199254740991,w="[object Arguments]",m="[object Function]",j="[object GeneratorFunction]",O="[object String]",_=/^(?:0|[1-9]\d*)$/,E=t.Object.prototype,S=E.hasOwnProperty,A=E.toString,x=t.Reflect,q=x?x.enumerate:void 0,C=E.propertyIsEnumerable;q&&!C.call({valueOf:1},"valueOf")&&(u=function(t){return o(q(t))});var T=i("length"),k=Array.isArray;n.exports=b}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],16:[function(t,n,e){arguments[4][4][0].apply(e,arguments)},{dup:4}],17:[function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=t("../methods/index"),u=t("lodash.assign"),i="services.fidemapps.com",a=function c(t){r(this,c),t=t||{},this.config=u({hostname:t.hostname||i,port:"https"===t.protocol?443:80,protocol:"http"},t)};e["default"]=a,u(a.prototype,o.clientMethods)},{"../methods/index":21,"lodash.assign":2}],18:[function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){t=Array.prototype.slice.call(t);var n=t.shift();f[n].apply(f,t)}function u(){for(;window.lr360.queue&&window.lr360.queue.length;){var t=window.lr360.queue.shift();o(t)}}function i(){window.lr360.queue.push=o}Object.defineProperty(e,"__esModule",{value:!0}),e.client=void 0,e.emptyQueue=u,e.replaceQueuePush=i;var a=t("./client/client"),c=r(a);window.lr360=window.lr360||{},window.lr360.queue=window.lr360.queue||[];var f=e.client=new c["default"];u(),i()},{"./client/client":17}],19:[function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,n){t=t||{};var e=void 0;if(e=a(this.config,t)){if(n&&"function"==typeof n)return n(new Error(e));throw new Error(e)}var r=u.call(this,t);return i(r,function(t){t.body&&(t=p({},t,{body:JSON.stringify(t.body)}));var e=t.method.toLowerCase();return l["default"][e](t,function(t,e,r){var o=void 0;if(e&&e.statusCode>=299&&(o=new d["default"](r,e.statusCode)),n&&"function"==typeof n)return n(t||o||null,r&&JSON.parse(r));if(t||o)throw t||o})})}function u(t){t=t||{};var n={url:c(p({},t,this.config)),method:t.method||"GET",headers:{"X-Fidem-AccessApiKey":this.config.key||null,accept:"application/json"},qs:t.qs||null};return t.token&&(n=y({},n,{headers:{"X-Fidem-SessionToken":t.token}})),t.method&&-1!==["put","post"].indexOf(t.method.toLowerCase())&&(n=y({},n,{headers:{"content-type":"application/json"}}),t.body&&(n=y({},n,{body:t.body}))),n}function i(t,n){function e(e){var r={lat:e.coords.latitude,"long":e.coords.longitude};n(y({},t,{body:{coordinates:r}}))}function r(){n(y({},t,{body:{coordinates:null}}))}return t.method&&-1!==["put","post"].indexOf(t.method.toLowerCase())?void(window.navigator&&window.navigator.geolocation?window.navigator.geolocation.getCurrentPosition(e,r):r()):n(t)}function a(t,n){return t.key?n.path?!1:"You must provide a path.":"You must provide a key."}function c(t){var n=t.path||"";return t.protocol+"://"+t.hostname+":"+t.port+n}Object.defineProperty(e,"__esModule",{value:!0}),e.baseRequest=o,e.getRequestOptions=u,e.addGeolocation=i;var f=t("browser-request"),l=r(f),s=t("./request.error"),d=r(s),p=t("lodash.assign"),y=t("lodash.merge")},{"./request.error":22,"browser-request":1,"lodash.assign":2,"lodash.merge":8}],20:[function(t,n,e){"use strict";function r(t){return o(t,"id")||o(t,"email")||o(t,"external_id")}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,n){if(t=t||{},!r(t)){if(n&&"function"==typeof n)return n(new Error(a));throw new Error(a)}return this.baseRequest({method:u,body:t,path:i},n)};var o=t("lodash.has"),u="POST",i="/api/gamification/actions/identify-member",a="You must provide either an ID, an external ID or an email."},{"lodash.has":5}],21:[function(t,n,e){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.clientMethods=void 0;var o=t("./track.action"),u=r(o),i=t("./setup"),a=r(i),c=t("./identify.member"),f=r(c),l=t("./base.request");e.clientMethods={setup:a["default"],trackAction:u["default"],baseRequest:l.baseRequest,identifyMember:f["default"]}},{"./base.request":19,"./identify.member":20,"./setup":23,"./track.action":24}],22:[function(t,n,e){"use strict";function r(t,n){
if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function n(t,e){r(this,n),t=t||{},e=e||"";try{t=JSON.parse(t)}catch(u){}var i=o(this,Object.getPrototypeOf(n).call(this,t.error));return i.body=t,i.statusCode=e,i}return u(n,t),n}(Error);e["default"]=i},{}],23:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t){t=t||{},this.config=r({},this.config,t)};var r=t("lodash.assign")},{"lodash.assign":2}],24:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(t,n){if(t=t||{},!t.type){if(n&&"function"==typeof n)return n(new Error(u));throw new Error(u)}return this.baseRequest({method:r,body:t,path:o},n)};var r="POST",o="/api/gamification/actions",u="You must provide the type of action to be tracked."},{}]},{},[18]);
